/*! donut-website v0.0.1 | (c) 2020  | MIT License | http://link-to-your-git-repo.com */
Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);const header=document.querySelector("header"),hamburger=document.getElementById("hamburger"),headerCTA=document.getElementById("header-subscribe"),mobileNavWrapper=document.querySelector(".mobile-nav-wrapper"),mobileMenuNavItem=document.querySelectorAll("#mobile-menu .nav-item"),body=document.body;function openMobileSubmenu(){this.classList.toggle("is-open")}mobileMenuNavItem.forEach(e=>e.addEventListener("click",openMobileSubmenu)),hamburger.addEventListener("click",e=>{body.classList.toggle("mobile-nav-is-open"),body.classList.contains("mobile-nav-is-open")?bodyScrollLock.disableBodyScroll(mobileNavWrapper):bodyScrollLock.enableBodyScroll(mobileNavWrapper)});const mq=window.matchMedia("(min-width: 992px)");function normalize(){mq.matches&&body.classList.contains("mobile-nav-is-open")&&(body.classList.remove("mobile-nav-is-open"),bodyScrollLock.enableBodyScroll(mobileNavWrapper)),mq.matches||header.classList.remove("form-active")}function isMobileNavVisible(e){return!!e.classList.contains("mobile-nav-is-open")}function getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}headerCTA.addEventListener("click",(function(e){e.preventDefault(),header.classList.add("form-active")})),window.addEventListener("resize",_.throttle(normalize,100,{trailing:!1}));const subForms=document.querySelectorAll("#subForm");if(subForms){const e=getUrlParameter("utm_source"),t=getUrlParameter("utm_campaign"),n=""==document.referrer?"Direct":document.referrer;subForms.forEach(s=>{s.querySelector("input[name=cm-f-yhhllyd]").value=e,s.querySelector("input[name=cm-f-ykqhyi]").value=t,s.querySelector("input[name=cm-f-ykfdjl]").value=n})}const accordions=document.querySelectorAll(".accordion");class Accordion{constructor(e){this.instance=e,this.question=this.instance.querySelector(".question"),this.answer=this.instance.querySelector(".answer"),this.question.addEventListener("click",()=>{"true"==this.instance.getAttribute("data-expanded")?(this.collapse(),console.log("collapse")):(this.expand(),console.log("expand"))}),this.instance.addEventListener("transitionend",e=>{"height"===e.propertyName&&("true"===this.instance.dataset.expanded?(console.log("expanding finished"),this.instance.style.height="auto"):(console.log("collapsing finished"),this.answer.style.display="none",requestAnimationFrame(()=>{this.instance.style.height="auto"})))})}init(){"false"===this.instance.getAttribute("data-expanded")?(this.instance.style.height=`${this.question.scrollHeight}px`,this.answer.style.display="none"):this.instance.classList.add("is-open")}expand(){this.answer.style.display="block",this.instance.style.height=`${this.question.scrollHeight}px`,requestAnimationFrame(()=>{this.instance.style.height=`${this.instance.scrollHeight}px`}),this.instance.classList.add("is-open"),this.instance.dataset.expanded="true"}collapse(){this.instance.style.height=`${this.instance.scrollHeight}px`,requestAnimationFrame(()=>{this.instance.style.height=`${this.question.scrollHeight}px`}),this.instance.classList.remove("is-open"),this.instance.dataset.expanded="false"}}accordions.forEach(e=>{new Accordion(e).init()});