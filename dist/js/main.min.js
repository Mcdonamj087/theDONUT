/*! donut-website v0.0.1 | (c) 2020  | MIT License | http://link-to-your-git-repo.com */
class Accordion{constructor(e){this.instance=e,this.question=this.instance.querySelector(".question"),this.answer=this.instance.querySelector(".answer"),this.question.addEventListener("click",()=>{"true"==this.instance.getAttribute("data-expanded")?(this.collapse(),console.log("collapse")):(this.expand(),console.log("expand"))}),this.instance.addEventListener("transitionend",e=>{"height"===e.propertyName&&("true"===this.instance.dataset.expanded?(console.log("expanding finished"),this.instance.style.height="auto"):(console.log("collapsing finished"),this.answer.style.display="none",requestAnimationFrame(()=>{this.instance.style.height="auto"})))})}init(){"false"===this.instance.getAttribute("data-expanded")?(this.instance.style.height=`${this.question.scrollHeight}px`,this.answer.style.display="none"):this.instance.classList.add("is-open")}expand(){this.answer.style.display="block",this.instance.style.height=`${this.question.scrollHeight}px`,requestAnimationFrame(()=>{this.instance.style.height=`${this.instance.scrollHeight}px`}),this.instance.classList.add("is-open"),this.instance.dataset.expanded="true"}collapse(){this.instance.style.height=`${this.instance.scrollHeight}px`,requestAnimationFrame(()=>{this.instance.style.height=`${this.question.scrollHeight}px`}),this.instance.classList.remove("is-open"),this.instance.dataset.expanded="false"}}const accordions=document.querySelectorAll(".accordion");accordions.length&&accordions.forEach(e=>{new Accordion(e).init()});const header=document.querySelector("header"),hamburger=document.getElementById("hamburger"),headerCTA=document.getElementById("header-subscribe"),mobileNavWrapper=document.querySelector(".mobile-menu-wrapper"),newslettersMenuTrigger=document.querySelector(".mobile-menu.main .nav-item.newsletters"),menuBack=document.querySelectorAll("header .menu-back"),newsletterNavItems=document.querySelectorAll(".mobile-menu.newsletters .nav-item"),megaMenuTabs=document.querySelectorAll(".mega-menu--tabs .tab"),megaMenuMains=document.querySelectorAll(".mega-menu--main .main"),body=document.body;if(header){newslettersMenuTrigger.addEventListener("click",e=>{body.classList.add("menu-level-2")}),menuBack.forEach(e=>e.addEventListener("click",e=>{body.classList.contains("menu-level-2")?body.classList.remove("menu-level-2"):body.classList.contains("menu-level-3")&&(body.classList.remove("menu-level-3"),body.classList.add("menu-level-2"))})),newsletterNavItems.forEach(e=>e.addEventListener("click",e=>{const t=e.currentTarget.dataset.name;body.classList.remove("menu-level-2"),body.classList.add("menu-level-3"),megaMenuMains.forEach((e,s,a)=>{e.classList.contains(t)&&(a.forEach(e=>e.classList.remove("active")),e.classList.add("active"),e.parentElement.dataset.active=t)})})),hamburger.addEventListener("click",e=>{body.classList.toggle("mobile-nav-is-open"),body.classList.contains("mobile-nav-is-open")?bodyScrollLock.disableBodyScroll(mobileNavWrapper):bodyScrollLock.enableBodyScroll(mobileNavWrapper)});const e=window.matchMedia("(min-width: 992px)");function normalize(){e.matches&&body.classList.contains("mobile-nav-is-open")&&(body.classList.remove("mobile-nav-is-open"),body.classList.remove("menu-level-2"),body.classList.remove("menu-level-3"),megaMenuTabs.forEach((e,t,s)=>{0===t?e.classList.add("active"):e.classList.remove("active"),t===s.length-1&&(console.log(e.parentElement),e.parentElement.parentElement.nextElementSibling.dataset.active="daily")}),megaMenuMains.forEach((e,t)=>{e.classList.remove("active")}),megaMenuMains[0].classList.add("active"),bodyScrollLock.enableBodyScroll(mobileNavWrapper)),e.matches||header.classList.remove("form-active")}function isMobileNavVisible(e){return!!e.classList.contains("mobile-nav-is-open")}e.addListener(normalize),headerCTA.addEventListener("click",e=>{e.preventDefault(),header.classList.add("form-active")}),megaMenuTabs.length>0&&megaMenuTabs.forEach((e,t,s)=>e.addEventListener("mouseenter",(function(){s.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.tab;megaMenuMains.forEach(e=>{e.classList.remove("active"),e.classList.contains(t)&&(e.classList.add("active"),e.parentElement.dataset.active=t)})})))}function getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}const subForms=document.querySelectorAll("#subForm");if(subForms){const e=getUrlParameter("utm_source"),t=getUrlParameter("utm_campaign"),s=""==document.referrer?"Direct":document.referrer;subForms.forEach(a=>{a.querySelector("input[name=cm-f-yhhllyd]").value=e,a.querySelector("input[name=cm-f-ykqhyi]").value=t,a.querySelector("input[name=cm-f-ykfdjl]").value=s})}